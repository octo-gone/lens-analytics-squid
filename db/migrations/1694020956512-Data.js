module.exports = class Data1694020956512 {
    name = 'Data1694020956512'

    async up(db) {
        await db.query(`CREATE TABLE "profile" ("id" character varying NOT NULL, "profile_id" numeric NOT NULL, "address" text NOT NULL, "handle" text NOT NULL, "image_uri" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_3dd8bfc97e4a77c70971591bdcb" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_b0465dda30314a8786db3354a6" ON "profile" ("profile_id") `)
        await db.query(`CREATE INDEX "IDX_486591528fda0f35f22560c47f" ON "profile" ("address") `)
        await db.query(`CREATE INDEX "IDX_e1eea55c5dc00feee13279e4cc" ON "profile" ("handle") `)
        await db.query(`CREATE INDEX "IDX_8fa96ed7b90e90f8b6dceb289b" ON "profile" ("timestamp") `)
        await db.query(`CREATE TABLE "collect" ("id" character varying NOT NULL, "collector" text NOT NULL, "profile_id" numeric NOT NULL, "pub_id" numeric NOT NULL, "root_profile_id" numeric NOT NULL, "root_pub_id" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_48dc0a6d1738eb0ee8f1e13d3d1" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_92cbba0a224e935d8a1ddca3e1" ON "collect" ("collector") `)
        await db.query(`CREATE INDEX "IDX_6f7aead7081c4815876262112b" ON "collect" ("profile_id") `)
        await db.query(`CREATE INDEX "IDX_cfa34e4e7816d6a781930e6f62" ON "collect" ("pub_id") `)
        await db.query(`CREATE INDEX "IDX_a3d194f9f55b81906d83025d14" ON "collect" ("root_profile_id") `)
        await db.query(`CREATE INDEX "IDX_cf5c48e5c588937b57e3ddb4a0" ON "collect" ("root_pub_id") `)
        await db.query(`CREATE INDEX "IDX_20e5bbb99bd24bead8e90c1814" ON "collect" ("timestamp") `)
        await db.query(`CREATE TABLE "comment" ("id" character varying NOT NULL, "profile_id" numeric NOT NULL, "pub_id" numeric NOT NULL, "content_uri" text NOT NULL, "profile_id_pointed" numeric NOT NULL, "pub_id_pointed" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_0b0e4bbc8415ec426f87f3a88e2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_46a19537464c5ffd948efda8a0" ON "comment" ("profile_id") `)
        await db.query(`CREATE INDEX "IDX_6d8ad41285cc26a7fe39ecf550" ON "comment" ("pub_id") `)
        await db.query(`CREATE INDEX "IDX_7e4b90d171615bd2cfa4749218" ON "comment" ("profile_id_pointed") `)
        await db.query(`CREATE INDEX "IDX_22630b9c277de3339222c9fe00" ON "comment" ("pub_id_pointed") `)
        await db.query(`CREATE INDEX "IDX_16e0a07027172478f5cbf53056" ON "comment" ("timestamp") `)
        await db.query(`CREATE TABLE "follow" ("id" character varying NOT NULL, "follower" text NOT NULL, "profile_ids" jsonb NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_fda88bc28a84d2d6d06e19df6e5" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_903c67798aca5869c297418838" ON "follow" ("follower") `)
        await db.query(`CREATE INDEX "IDX_691a2347f6876e8b22cda3017e" ON "follow" ("timestamp") `)
        await db.query(`CREATE TABLE "mirror" ("id" character varying NOT NULL, "profile_id" numeric NOT NULL, "pub_id" numeric NOT NULL, "profile_id_pointed" numeric NOT NULL, "pub_id_pointed" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_1550eca1496157edb9af20a1bdd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_629e4f5c9a6f6ee26ca5c8f138" ON "mirror" ("profile_id") `)
        await db.query(`CREATE INDEX "IDX_595ae238f3c32ee25116ec7dd0" ON "mirror" ("pub_id") `)
        await db.query(`CREATE INDEX "IDX_2387749a31393346971f1f5227" ON "mirror" ("profile_id_pointed") `)
        await db.query(`CREATE INDEX "IDX_599464f87e294c33e7ed8b77c0" ON "mirror" ("pub_id_pointed") `)
        await db.query(`CREATE INDEX "IDX_93c8d82a0f37539d183a846a07" ON "mirror" ("timestamp") `)
        await db.query(`CREATE TABLE "post" ("id" character varying NOT NULL, "profile_id" numeric NOT NULL, "pub_id" numeric NOT NULL, "content_uri" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_be5fda3aac270b134ff9c21cdee" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d71267a40b11eac9c6b2dee901" ON "post" ("profile_id") `)
        await db.query(`CREATE INDEX "IDX_df9f973a1a260ba107d09a4e66" ON "post" ("pub_id") `)
        await db.query(`CREATE INDEX "IDX_1f469063a68c898f81186c0c11" ON "post" ("timestamp") `)
    }

    async down(db) {
        await db.query(`DROP TABLE "profile"`)
        await db.query(`DROP INDEX "public"."IDX_b0465dda30314a8786db3354a6"`)
        await db.query(`DROP INDEX "public"."IDX_486591528fda0f35f22560c47f"`)
        await db.query(`DROP INDEX "public"."IDX_e1eea55c5dc00feee13279e4cc"`)
        await db.query(`DROP INDEX "public"."IDX_8fa96ed7b90e90f8b6dceb289b"`)
        await db.query(`DROP TABLE "collect"`)
        await db.query(`DROP INDEX "public"."IDX_92cbba0a224e935d8a1ddca3e1"`)
        await db.query(`DROP INDEX "public"."IDX_6f7aead7081c4815876262112b"`)
        await db.query(`DROP INDEX "public"."IDX_cfa34e4e7816d6a781930e6f62"`)
        await db.query(`DROP INDEX "public"."IDX_a3d194f9f55b81906d83025d14"`)
        await db.query(`DROP INDEX "public"."IDX_cf5c48e5c588937b57e3ddb4a0"`)
        await db.query(`DROP INDEX "public"."IDX_20e5bbb99bd24bead8e90c1814"`)
        await db.query(`DROP TABLE "comment"`)
        await db.query(`DROP INDEX "public"."IDX_46a19537464c5ffd948efda8a0"`)
        await db.query(`DROP INDEX "public"."IDX_6d8ad41285cc26a7fe39ecf550"`)
        await db.query(`DROP INDEX "public"."IDX_7e4b90d171615bd2cfa4749218"`)
        await db.query(`DROP INDEX "public"."IDX_22630b9c277de3339222c9fe00"`)
        await db.query(`DROP INDEX "public"."IDX_16e0a07027172478f5cbf53056"`)
        await db.query(`DROP TABLE "follow"`)
        await db.query(`DROP INDEX "public"."IDX_903c67798aca5869c297418838"`)
        await db.query(`DROP INDEX "public"."IDX_691a2347f6876e8b22cda3017e"`)
        await db.query(`DROP TABLE "mirror"`)
        await db.query(`DROP INDEX "public"."IDX_629e4f5c9a6f6ee26ca5c8f138"`)
        await db.query(`DROP INDEX "public"."IDX_595ae238f3c32ee25116ec7dd0"`)
        await db.query(`DROP INDEX "public"."IDX_2387749a31393346971f1f5227"`)
        await db.query(`DROP INDEX "public"."IDX_599464f87e294c33e7ed8b77c0"`)
        await db.query(`DROP INDEX "public"."IDX_93c8d82a0f37539d183a846a07"`)
        await db.query(`DROP TABLE "post"`)
        await db.query(`DROP INDEX "public"."IDX_d71267a40b11eac9c6b2dee901"`)
        await db.query(`DROP INDEX "public"."IDX_df9f973a1a260ba107d09a4e66"`)
        await db.query(`DROP INDEX "public"."IDX_1f469063a68c898f81186c0c11"`)
    }
}
